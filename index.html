<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ุงุฎุชุจุงุฑ ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ โ ุงููููุฉ ุงูููุฒููุฉ ุถูู ูุฆุงุช ุงูููุงููู</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-purple-600 to-blue-600 min-h-screen p-4">
  <div class="max-w-2xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-white mb-2">๐งฎ ุชุญุฏูู ุงูุฑูุงุถูุงุช</h1>
      <p class="text-purple-100">ุฃุณุฆูุฉ ูู ุงููููุฉ ุงูููุฒููุฉ ููุฑุงุกุฉ ุงูุฃุนุฏุงุฏ ูุงูุชูุซูู ุงูุชุญูููู ูุงูููุงุฑูุฉ ุถูู ูุฆุงุช ุงูููุงููู.</p>
    </div>

    <!-- Score Display -->
    <div class="bg-white rounded-lg shadow-lg p-4 mb-6">
      <div class="flex justify-between items-center">
        <div class="text-lg font-semibold text-gray-700">
          ุงูุณุคุงู <span id="currentQuestion">1</span> ูู <span id="totalQuestions">25</span>
        </div>
        <div class="text-lg font-semibold text-purple-600">
          ุงูุฏุฑุฌุฉ: <span id="score">0</span>/<span id="totalAnswered">0</span>
        </div>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-2 mt-3">
        <div id="progressBar" class="bg-purple-500 h-2 rounded-full transition-all duration-300" style="width: 4%"></div>
      </div>
    </div>

    <!-- Quiz Container -->
    <div id="quizContainer" class="bg-white rounded-lg shadow-lg p-6">
      <div id="questionCard">
        <h2 class="text-2xl font-bold text-gray-800 mb-6" id="questionText">...</h2>

        <div class="space-y-3">
          <button class="answer-btn w-full p-4 text-right bg-gray-50 hover:bg-purple-50 border-2 border-gray-200 hover:border-purple-300 rounded-lg transition-all duration-200">
            <span class="font-semibold text-purple-600 ml-3">ุฃ)</span>
            <span class="answer-text">โ</span>
          </button>
          <button class="answer-btn w-full p-4 text-right bg-gray-50 hover:bg-purple-50 border-2 border-gray-200 hover:border-purple-300 rounded-lg transition-all duration-200">
            <span class="font-semibold text-purple-600 ml-3">ุจ)</span>
            <span class="answer-text">โ</span>
          </button>
          <button class="answer-btn w-full p-4 text-right bg-gray-50 hover:bg-purple-50 border-2 border-gray-200 hover:border-purple-300 rounded-lg transition-all duration-200">
            <span class="font-semibold text-purple-600 ml-3">ุฌ)</span>
            <span class="answer-text">โ</span>
          </button>
          <button class="answer-btn w-full p-4 text-right bg-gray-50 hover:bg-purple-50 border-2 border-gray-200 hover:border-purple-300 rounded-lg transition-all duration-200">
            <span class="font-semibold text-purple-600 ml-3">ุฏ)</span>
            <span class="answer-text">โ</span>
          </button>
        </div>

        <div id="feedback" class="mt-6 p-4 rounded-lg hidden">
          <p id="feedbackText" class="font-semibold"></p>
        </div>

        <button id="nextBtn" class="mt-6 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 hidden">
          ุงูุณุคุงู ุงูุชุงูู โ
        </button>
      </div>
    </div>

    <!-- Results Screen -->
    <div id="resultsScreen" class="bg-white rounded-lg shadow-lg p-6 hidden">
      <div class="text-center">
        <div class="text-6xl mb-4" id="resultEmoji">๐</div>
        <h2 class="text-3xl font-bold text-gray-800 mb-4">ุงูุชูู ุงูุงุฎุชุจุงุฑ!</h2>
        <div class="text-xl text-gray-600 mb-6">
          ุญุตูุช ุนูู <span id="finalScore" class="font-bold text-purple-600">0</span> ูู <span id="finalTotal" class="font-bold text-purple-600">25</span>
        </div>
        <div class="text-lg text-gray-500 mb-8" id="scoreMessage">ุนูู ุฑุงุฆุน!</div>
        <button id="restartBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200">
          ุฅุนุงุฏุฉ ุงููุญุงููุฉ
        </button>
      </div>
    </div>
  </div>

  <script>
    function shuffle(array) {
      const a = array.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    const questions = [
      {question:"ูุง ุงููููุฉ ุงูููุฒููุฉ ููุฑูู ูง ูู ุงูุนุฏุฏ ูฃูงุูฅูขูกุูฉููคุ",choices:[
        {text:"ูงุูููุููู",correct:true},{text:"ูงููุููู",correct:false},{text:"ูงุููู",correct:false},{text:"ูง",correct:false}
      ],explain:"ูฃูงุูฅูขูกุูฉููค = ูฃูง ููููููุง ... ูุงูุฑูู ูง ูู ููุฒูุฉ ุงูููุงููู ููููุชู ูงุูููุููู."},

      {question:"ูุง ูููุฉ ุงูุฑูู ูฉ ูู ุงูุนุฏุฏ ูจูกุูฉูฃูุูคูขูขุ",choices:[
        {text:"ูฉููุููู",correct:true},{text:"ูฉุูููุููู",correct:false},{text:"ูฉุููู",correct:false},{text:"ูฉู",correct:false}
      ],explain:"ูจูกุูฉูฃูุูคูขูข: ุงูุฑูู ูฉ ูู ููุฒูุฉ ูุฆุงุช ุงูุฃููู โ ูููุชู ูฉููุููู."},

      {question:"ุฃููู ูุฑุงุกุฉู ุตุญูุญุฉ ููุนุฏุฏ ูขูฃุูฅูงูุูกูคูฉุ",choices:[
        {text:"ุซูุงุซุฉ ูุนุดุฑูู ููููููุง ูุฎูุณูุฆุฉ ูุณุจุนูู ุฃูููุง ููุฆุฉ ูุชุณุนุฉ ูุฃุฑุจุนูู",correct:true},
        {text:"ุซูุงุซุฉ ูุนุดุฑูู ุฃูููุง ูุฎูุณูุฆุฉ ูุณุจุนูู ููููููุง ููุฆุฉ ูุชุณุนุฉ ูุฃุฑุจุนูู",correct:false},
        {text:"ูุฆุชุงู ูุฎูุณุฉ ูุซูุงุซูู ููููููุง ูุณุจุนูุฆุฉ ูุฃุฑุจุนุฉ ุนุดุฑ ุฃูููุง ูุชุณุนุฉ",correct:false},
        {text:"ุซูุงุซุฉ ูุนุดุฑูู ููููููุง ูุฎูุณูุฆุฉ ูุณุจุนุฉ ุขูุงู ููุฆุฉ ูุชุณุนุฉ ูุฃุฑุจุนูู",correct:false}
      ],explain:"ูขูฃุูฅูงูุูกูคูฉ = ูขูฃ ููููููุง + ูฅูงู ุฃูููุง + ูกูคูฉ."},

      {question:"ุฃู ุชูุซูู ุชุญูููู ุตุญูุญ ููุนุฏุฏ ูคูุูฆููฃุูููฅุ",choices:[
        {text:"ูคูุูููุููู + ูฆููุููู + ูฃุููู + ูฅ",correct:true},
        {text:"ูคุูููุููู + ูฆููุููู + ูฃูู + ูฅ",correct:false},
        {text:"ูคูุูููุููู + ูฆูุููู + ูฃุููู + ูฅ",correct:false},
        {text:"ูคูุูููุููู + ูฆููุููู + ูฃู + ูฅ",correct:false}
      ],explain:"ูคูุูฆููฃุูููฅ = ูคููฌููููฌููู + ูฆูููฌููู + ูฃูฌููู + ูฅ."},

      {question:"ุฃู ุนุฏุฏ ูุณุงูู: ูฉ ูุฆุงุช ุงูููุงููู ููข ุนุดุฑุงุช ุงูููุงููู ููฃ ููุงููู ููค ูุฆุงุช ููฅ ุนุดุฑุงุช ููฆ ุขุญุงุฏุ",choices:[
        {text:"ูฉูขูฃุูููุูคูฅูฆ",correct:true},{text:"ูฉูขูฃุููคูฅุูฆูู",correct:false},{text:"ูฉูขูุูฃููุูคูฅูฆ",correct:false},{text:"ูฉูขูฃุูคูฅูฆุููู",correct:false}
      ],explain:"ูฉููุูููุููู + ูขูุูููุููู + ูฃุูููุููู + ูคูู + ูฅู + ูฆ = ูฉูขูฃุูููุูคูฅูฆ."},

      {question:"ูู ุฃู ููุฒูุฉ ููุน ุงูุฑูู ูข ูู ุงูุนุฏุฏ ูงูคุูขูกูฅุููฃูฆุ",choices:[
        {text:"ูุฆุงุช ุงูุฃููู",correct:true},{text:"ุนุดุฑุงุช ุงูููุงููู",correct:false},{text:"ุงูููุงููู",correct:false},{text:"ุงูุขุญุงุฏ",correct:false}
      ],explain:"ูงูคุูขูกูฅุููฃูฆ: ุงูุฑูู ูข ูู ููุฒูุฉ ูุฆุงุช ุงูุฃููู."},

      {question:"ุฃููู ุงูุนุฏุฏูู ุฃูุจุฑ: ูฆูฉุูจูฃูุูขูคูฅ ุฃู ูฆูฉุูจูฃูขุููคูฅุ",choices:[
        {text:"ูฆูฉุูจูฃูขุููคูฅ",correct:true},{text:"ูฆูฉุูจูฃูุูขูคูฅ",correct:false},{text:"ูุชุณุงููุงู",correct:false},{text:"ูุง ูููู ุงูููุงุฑูุฉ",correct:false}
      ],explain:"ููุงุฑู ูู ุงููุณุงุฑ: ูุชุณุงูู ุญุชู ุงูุขูุงูุ ุซู ูฃูข ุฃูููุง > ูฃู ุฃูููุง."},

      {question:"ุงูุตูุบุฉ ุงูุชุญููููุฉ ุงูุตุญูุญุฉ ููุนุฏุฏ ูฉูุูกูขูุููฃูุ",choices:[
        {text:"ูฉูุูููุููู + ูกูขูุููู + ูฃู",correct:true},
        {text:"ูฉูุูููุููู + ูกูขุููู + ูฃู",correct:false},
        {text:"ูฉุูููุููู + ูกูขูุููู + ูฃู",correct:false},
        {text:"ูฉูุูููุููู + ูกูขูุููู + ูฃ",correct:false}
      ],explain:"ูฉูุูกูขูุููฃู = ูฉูุูููุููู + ูกูขูุููู + ูฃู."},

      {question:"ูุง ุงูุฑูู ูู ููุฒูุฉ ุนุดุฑุงุช ุงูููุงููู ูู ุงูุนุฏุฏ ูฅูฆุูงูจูฉุููกูขุ",choices:[
        {text:"ูฅ",correct:true},{text:"ูฆ",correct:false},{text:"ูง",correct:false},{text:"ูข",correct:false}
      ],explain:"ูฅูฆุูงูจูฉุููกูข: ุฃูู ุฎุงูุฉ ูู ุงููุณุงุฑ (ูุนูุฏูุฏ ูู ูจ ุฎุงูุงุช) ูู ุนุดุฑุงุช ุงูููุงููู = ูฅ."},

      {question:"ูุง ุงููููุฉ ุงูููุฒููุฉ ููุฑูู ูค ูู ุงูุนุฏุฏ ูฃูคุูขููุูกููฅุ",choices:[
        {text:"ูคุูููุููู",correct:true},{text:"ูคููุููู",correct:false},{text:"ูคุููู",correct:false},{text:"ูค",correct:false}
      ],explain:"ูฃูคุูขููุูกููฅ: ุงูุฑูู ูค ูู ููุฒูุฉ ุงูููุงููู โ ูคุูููุููู."},

      {question:"ุฃู ุนุฏุฏ ูุณุงูู: ูกูขูฃ ููููููุง ููคูฅูฆ ุฃูููุง ููงูุ",choices:[
        {text:"ูกูขูฃุูคูฅูฆุููงู",correct:true},{text:"ูกูขูฃุูคูฅูฆุูงูู",correct:false},{text:"ูกูขูฃุูคูฅูฆุูููง",correct:false},{text:"ูกูขูฃุูคููฅุูฆูงู",correct:false}
      ],explain:"ูกูขูฃุูููุููู + ูคูฅูฆุููู + ูงู = ูกูขูฃุูคูฅูฆุููงู."},

      {question:"ุฃู ูุฑุงุกุฉ ุตุญูุญุฉ ููุนุฏุฏ ูงููุูููฅุูููจุ",choices:[
        {text:"ุณุจุนูุฆุฉ ููููู ูุฎูุณุฉ ุขูุงู ูุซูุงููุฉ",correct:true},
        {text:"ุณุจุนูุฆุฉ ุฃูู ูุฎูุณุฉ ููุงููู ูุซูุงููุฉ",correct:false},
        {text:"ุณุจุนูุฆุฉ ููููู ูุฎูุณูุฆุฉ ูุซูุงููุฉ",correct:false},
        {text:"ุณุจุนูู ููููููุง ูุฎูุณุฉ ุขูุงู ูุซูุงููุฉ",correct:false}
      ],explain:"ูงููุูููฅุูููจ = ูงููุูููุููู + ูฅุููู + ูจ."},

      {question:"ูู ุฃู ููุฒูุฉ ููุน ุงูุฑูู ูฅ ูู ุงูุนุฏุฏ ูฉูฅุูคูฃูขุููกูฆุ",choices:[
        {text:"ุงูููุงููู",correct:true},{text:"ูุฆุงุช ุงูุฃููู",correct:false},{text:"ุนุดุฑุงุช ุงูุฃููู",correct:false},{text:"ุงูุนุดุฑุงุช",correct:false}
      ],explain:"ูฉูฅุูคูฃูขุููกูฆ: ุงูุฑูู ูฅ ูู ููุฒูุฉ ุงูููุงููู."},

      {question:"ูุง ุงูุฑูู ูู ููุฒูุฉ ูุฆุงุช ุงูุฃููู ูู ุงูุนุฏุฏ ูขูคุูจูฉูุูงูฃูกุ",choices:[
        {text:"ูจ",correct:true},{text:"ูค",correct:false},{text:"ูฉ",correct:false},{text:"ูง",correct:false}
      ],explain:"ูขูคุูจูฉูุูงูฃูก: ุซูุงุซู ุงูุขูุงู ูู ูฉููงุ ูุฆุงุช ุงูุฃููู ุฑููู ูจ."},

      {question:"ุฃู ุชูุซูู ุชุญูููู ุตุญูุญ ููุนุฏุฏ ูฃููุูคููุูููฉุ",choices:[
        {text:"ูฃููุูููุููู + ูคููุููู + ูฉ",correct:true},
        {text:"ูฃูุูููุููู + ูคููุููู + ูฉ",correct:false},
        {text:"ูฃููุูููุููู + ูคูุููู + ูฉ",correct:false},
        {text:"ูฃููุูููุููู + ูคููุููู + ูฉู",correct:false}
      ],explain:"ูฃููุูคููุูููฉ = ูฃููุูููุููู + ูคููุููู + ูฉ."},

      {question:"ุฃูููุง ุฃุตุบุฑ: ูคูฅุูููกุูขูู ุฃู ูคูฅุูููขุููกูขุ",choices:[
        {text:"ูคูฅุูููกุูขูู",correct:true},{text:"ูคูฅุูููขุููกูข",correct:false},{text:"ูุชุณุงููุงู",correct:false},{text:"ูุง ูููู ุงูุชุญุฏูุฏ",correct:false}
      ],explain:"ูคูฅุูููกุูขูู < ูคูฅุูููขุููกูข."},

      {question:"ุฃู ูุฑุงุกุฉ ุตุญูุญุฉ ููุนุฏุฏ ูกููขุูููุูููุ",choices:[
        {text:"ูุฆุฉ ูุงุซูุงู ููููููุง",correct:true},
        {text:"ููููู ููุฆุชุงู ุฃูู",correct:false},
        {text:"ุงุซูุง ุนุดุฑ ููููููุง",correct:false},
        {text:"ูุฆุฉ ูุนุดุฑูู ููููููุง",correct:false}
      ],explain:"ูกููขุูููุููู = ูกูู ููููู + ูข ููููู."},

      {question:"ูุง ุงูุฑูู ูู ููุฒูุฉ ุงูุขุญุงุฏ ูู ุงูุนุฏุฏ ูจูฃุูููุูููกุ",choices:[
        {text:"ูก",correct:true},{text:"ู",correct:false},{text:"ูจ",correct:false},{text:"ูฃ",correct:false}
      ],explain:"ุงูุขุญุงุฏ ูู ุขุฎุฑ ุฑูู ูููููุง: ูก."},

      {question:"ูุง ุงููููุฉ ุงูููุฒููุฉ ููุฑูู ูฆ ูู ุงูุนุฏุฏ ูงูฆุูฅูคูฃุูขูกูุ",choices:[
        {text:"ูฆุูููุููู",correct:true},{text:"ูฆูุููู",correct:false},{text:"ูฆูู",correct:false},{text:"ูฆ",correct:false}
      ],explain:"ูงูฆุูฅูคูฃุูขูกู: ุงูุฑูู ูฆ ูู ููุฒูุฉ ุงูููุงููู โ ูฆุูููุููู."},

      {question:"ุฃู ุนุฏุฏ ููุซูู: ูจ ูุฆุงุช ุงูููุงููู ูู ููุงููู ููค ูุฆุงุช ุงูุฃููู ููฃ ุขูุงู ููข ุนุดุฑุงุชุ",choices:[
        {text:"ูจููุูคููฃุููขู",correct:true},{text:"ูจููคุูููฃุููขู",correct:false},{text:"ูจููุูคูฃูุููขู",correct:false},{text:"ูจููุููคูฃุูขูู",correct:false}
      ],explain:"ูจููุูููุููู + ูคููุููู + ูฃุููู + ูขู = ูจููุูคููฃุููขู."},

      {question:"ุงูุตูุบุฉ ุงูุชุญููููุฉ ุงูุตุญูุญุฉ ููุนุฏุฏ ูฅูงูุููจูุูููุ",choices:[
        {text:"ูฅููุูููุููู + ูงูุูููุููู + ูจูุููู",correct:true},
        {text:"ูฅููุูููุููู + ูงุูููุููู + ูจููุููู",correct:false},
        {text:"ูฅูุูููุููู + ูงูุูููุููู + ูจูุููู",correct:false},
        {text:"ูฅููุูููุููู + ูงูุูููุููู + ูจูู",correct:false}
      ],explain:"ูฅูงููฌููจููฌููู = ูฅููุูููุููู + ูงูุูููุููู + ูจูุููู."},

      {question:"ุฃููู ุงูุนุฏุฏูู ุฃูุจุฑ: ูขูฃุูคูฅูฆุูงูจูฉ ุฃู ูขูฃุูฅูคูฆุูงูจูฉุ",choices:[
        {text:"ูขูฃุูฅูคูฆุูงูจูฉ",correct:true},{text:"ูขูฃุูคูฅูฆุูงูจูฉ",correct:false},{text:"ูุชุณุงููุงู",correct:false},{text:"ูุง ูููู ุงูููุงุฑูุฉ",correct:false}
      ],explain:"ููุงุฑู ุงูููุงููู: ูขูฃูฅโฆ ุฃูุจุฑ ูู ูขูฃูคโฆ ."},

      {question:"ูุง ุงูุฑูู ูู ููุฒูุฉ ูุฆุงุช ุงูููุงููู ูู ุงูุนุฏุฏ ูฉูกูขุูฃูคูฅุูฆูงูจุ",choices:[
        {text:"ูฉ",correct:true},{text:"ูก",correct:false},{text:"ูข",correct:false},{text:"ูจ",correct:false}
      ],explain:"ูฉูกูขุูฃูคูฅุูฆูงูจ ูุญุชูู ูฉ ุฎุงูุงุชุ ุฎุงูุฉ ูุฆุงุช ุงูููุงููู ูู ุงูุฃููู ูู ุงููุณุงุฑ = ูฉ."},

      {question:"ุฃู ูุฑุงุกุฉ ุตุญูุญุฉ ููุนุฏุฏ ูคูุููฃูขูุููกูุ",choices:[
        {text:"ุฃุฑุจุนูุฆุฉ ููููู ูุซูุงุซูุฆุฉ ูุนุดุฑูู ุฃูููุง ูุนุดุฑุฉ",correct:true},
        {text:"ุฃุฑุจุนูุฆุฉ ุฃูู ูุซูุงุซูุฆุฉ ูุนุดุฑูู ููููููุง ูุนุดุฑุฉ",correct:false},
        {text:"ุฃุฑุจุนูุฆุฉ ููููู ูุซูุงุซูู ุฃูููุง ููุฆุฉ",correct:false},
        {text:"ุฃุฑุจุนูู ููููููุง ูุซูุงุซูุฆุฉ ูุนุดุฑูู ุฃูููุง ูุนุดุฑุฉ",correct:false}
      ],explain:"ูคููุูฃูขูุููกู = ูคููุูููุููู + ูฃูขูุููู + ูกู."},

      {question:"ูุง ุงููููุฉ ุงูููุฒููุฉ ููุตูุฑ ูู ููุฒูุฉ ูุฆุงุช ุงูุฃููู ูู ุงูุนุฏุฏ ูจููุูููฅุูููุ",choices:[
        {text:"ู",correct:true},{text:"ูฅููุููู",correct:false},{text:"ูฅุููู",correct:false},{text:"ูฅูู",correct:false}
      ],explain:"ูุฆุงุช ุงูุฃููู = ู โ ูุง ุชุถูู ูููุฉ ููุงููุฉ."},

      {question:"ุฃู ุชูุซูู ุชุญูููู ุตุญูุญ ููุนุฏุฏ ูฆูขูุูคููกุูููฅุ",choices:[
        {text:"ูฆููุูููุููู + ูขูุูููุููู + ูคููุููู + ูกุููู + ูฅ",correct:true},
        {text:"ูฆูุูููุููู + ูขุูููุููู + ูคููุููู + ูกุููู + ูฅ",correct:false},
        {text:"ูฆูขุูููุููู + ูคููุููู + ูกุููู + ูฅ",correct:false},
        {text:"ูฆููุูููุููู + ูขููุููู + ูคููุููู + ูกุููู + ูฅ",correct:false}
      ],explain:"ูฆูขูุูคููกุูููฅ = ูฆููุูููุููู + ูขูุูููุููู + ูคููุููู + ูกุููู + ูฅ."},

      {question:"ูุง ุงูุฑูู ูู ููุฒูุฉ ุนุดุฑุงุช ุงูุฃููู ูู ุงูุนุฏุฏ ูฉูฃุูขูฅูฆุูคูงูกุ",choices:[
        {text:"ูฆ",correct:true},{text:"ูค",correct:false},{text:"ูฅ",correct:false},{text:"ูง",correct:false}
      ],explain:"ุงูุชุซููุฉ ุงููุณุทู (ุงูุขูุงู) = ูฅูฆูคุ ุนุดุฑุงุช ุงูุฃููู ุฑูููุง ูฆ."},

      {question:"ุฃูููุง ุฃุตุบุฑ: ูงููุูกูขูุููฃู ุฃู ูฆูฉูฉุูฉูฉูฉุูฉูฉูฉุ",choices:[
        {text:"ูฆูฉูฉุูฉูฉูฉุูฉูฉูฉ",correct:true},{text:"ูงููุูกูขูุููฃู",correct:false},{text:"ูุชุณุงููุงู",correct:false},{text:"ูุง ูููู ุงูุชุญุฏูุฏ",correct:false}
      ],explain:"ูฆูฉูฉุูฉูฉูฉุูฉูฉูฉ < ูงููุูกูขูุููฃู."}
    ];

    let currentQuestionIndex=0,score=0,totalAnswered=0,hasAnswered=false;
    const questionText=document.getElementById('questionText');
    const answerBtns=document.querySelectorAll('.answer-btn');
    const feedback=document.getElementById('feedback');
    const feedbackText=document.getElementById('feedbackText');
    const nextBtn=document.getElementById('nextBtn');
    const currentQuestionSpan=document.getElementById('currentQuestion');
    const scoreSpan=document.getElementById('score');
    const totalAnsweredSpan=document.getElementById('totalAnswered');
    const progressBar=document.getElementById('progressBar');
    const quizContainer=document.getElementById('quizContainer');
    const resultsScreen=document.getElementById('resultsScreen');
    let shuffledChoices=[];

    function loadQuestion(){
      const q=questions[currentQuestionIndex];
      shuffledChoices=shuffle(q.choices);
      questionText.textContent=q.question;
      answerBtns.forEach((btn,i)=>{
        const textSpan=btn.querySelector('.answer-text');
        if(shuffledChoices[i]){
          textSpan.textContent=shuffledChoices[i].text;
          btn.disabled=false;
          btn.classList.remove('bg-green-100','border-green-500','bg-red-100','border-red-500');
          btn.classList.add('bg-gray-50','border-gray-200','hover:bg-purple-50','hover:border-purple-300');
        }
      });
      feedback.classList.add('hidden');nextBtn.classList.add('hidden');hasAnswered=false;
      currentQuestionSpan.textContent=currentQuestionIndex+1;
      document.getElementById('totalQuestions').textContent=questions.length;
      const progress=((currentQuestionIndex+1)/questions.length)*100;
      progressBar.style.width=progress+'%';
    }

    function selectAnswer(selectedIndex){
      if(hasAnswered) return;
      hasAnswered=true; totalAnswered++;
      const q=questions[currentQuestionIndex];
      const chosen=shuffledChoices[selectedIndex];
      const isCorrect=chosen && chosen.correct===true;
      const correctIndex=shuffledChoices.findIndex(c=>c.correct);

      if(isCorrect){
        score++;
        answerBtns[selectedIndex].classList.add('bg-green-100','border-green-500');
        feedbackText.textContent=`โ ุฅุฌุงุจุฉ ุตุญูุญุฉ! ${q.explain}`;
        feedback.className="mt-6 p-4 rounded-lg bg-green-50 border border-green-200";
      }else{
        answerBtns[selectedIndex].classList.add('bg-red-100','border-red-500');
        if(correctIndex!==-1){answerBtns[correctIndex].classList.add('bg-green-100','border-green-500');}
        const correctText=correctIndex!==-1?shuffledChoices[correctIndex].text:"โ";
        feedbackText.textContent=`โ ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ. ุงูุตุญูุญุฉ: ${correctText}. ${q.explain}`;
        feedback.className="mt-6 p-4 rounded-lg bg-red-50 border border-red-200";
      }

      answerBtns.forEach(btn=>{
        btn.disabled=true;
        btn.classList.remove('hover:bg-purple-50','hover:border-purple-300');
      });
      feedback.classList.remove('hidden');
      scoreSpan.textContent=score; totalAnsweredSpan.textContent=totalAnswered;

      if(currentQuestionIndex<questions.length-1){
        nextBtn.classList.remove('hidden');
      }else{
        setTimeout(showResults,1200);
      }
    }

    function nextQuestion(){ currentQuestionIndex++; loadQuestion(); }
    function showResults(){
      quizContainer.classList.add('hidden'); resultsScreen.classList.remove('hidden');
      document.getElementById('finalScore').textContent=score;
      document.getElementById('finalTotal').textContent=questions.length;
      const percentage=(score/questions.length)*100;
      const msg=document.getElementById('scoreMessage');
      const emoji=document.getElementById('resultEmoji');
      if(percentage>=90){ msg.textContent="ููุชุงุฒ! ๐"; emoji.textContent="๐"; }
      else if(percentage>=70){ msg.textContent="ุนูู ุฑุงุฆุน! ๐"; emoji.textContent="๐"; }
      else if(percentage>=50){ msg.textContent="ูุญุงููุฉ ุฌูุฏุฉ! ๐ช"; emoji.textContent="๐"; }
      else{ msg.textContent="ูุง ุชูุฃุณ! ๐"; emoji.textContent="๐ช"; }
    }
    function restartQuiz(){
      currentQuestionIndex=0; score=0; totalAnswered=0;
      resultsScreen.classList.add('hidden'); quizContainer.classList.remove('hidden');
      loadQuestion();
    }

    answerBtns.forEach((btn,i)=>{ btn.addEventListener('click',()=>selectAnswer(i)); });
    document.getElementById('nextBtn').addEventListener('click',nextQuestion);
    document.getElementById('restartBtn').addEventListener('click',restartQuiz);
    loadQuestion();
  </script>
</body>
</html>


